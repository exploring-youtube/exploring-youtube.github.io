<!DOCTYPE html>
<html lang = "en">
	<head>
		<meta charset="utf-8">
		<title>Let's see it</title>
		<script src = "https://d3js.org/d3.v4.min.js"></script>
        <script src = "https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.15.0/lodash.min.js"></script>
        <script src="d3.button.js"></script>
		<style type="text/css">
        .video {
            display: inline-block;
            width: 120px;
            padding: 20px;
            vertical-align: top;
        }
    
        .video div {
            padding-top: 10px;
        }
		</style>
	</head>
	<body>
        <dic id = 'main'></div>
		<h3> Thumbnails </h3>
		<script type = "text/javascript">

		// var w = 3000;
		// var h = 200;

		// var svg = d3.select("body")
		// 				.append("svg")
		// 				.attr("width",w)
		// 				.attr("height",h);

		d3.csv("images.csv", videos => {
      
            // videos = _.filter(videos, video => video.videoId && !_.includes(exclude, video.videoId));
            // videos = _.uniqBy(videos, d => d.channelId + ':' + d.videoId);
            // console.log(JSON.stringify(videos))
      
            var main = d3.select('#main');
      
            var video = main.selectAll('.video')
                        .data(videos).enter().append('span')
                        .classed('video', true);

            video.append('img')
                .attr('src', d => d.Image)
                .on('click', d => {
                    console.log(d.ChannelID);
                });
            // video.append('div')
            //     .text((d, i) => i + '. ' + d.channelTitle);
            // video.append('div')
            //     .text(d => d.title);
            // video.append('div')
            //     .text(d => d.publishedAt.split('T')[0]);
            video.append('div')
                .text(d => d.ChannelId);
            });

			// var dataset = data;

			// var groups = svg.selectAll("rects")
   // 							.data(data)
   //  						.enter()
   //  						.append("img")
   //                          .attr("transform", function(d,i) {
   //                              console.log("here");
   //                              if(d.id == "A") {
   //                                  console.log("A");
   //                                  return "translate(" + i + 50 + ", 10)";
   //                              }
   //                              if(d.id == "B") {
   //                                  console.log("B");
   //                                  return "translate(" + i + 50 + ", 100)";
   //                              }
   //                          })
   //                          .attr("xlink:href", function(d) {
   //                                  console.log(d.ChannelID);
   //                                  return d.Image;
   //                          })
   //                          .attr("x", "10")
   //                          .attr("y", "10")
   //                          .attr("width", "100")
   //                          .attr("height", "100")

   //                          .on("click", function(d) {
   //                              var channel = d3.select(this.parentNode).datum().ChannelID;
   //                              console.log(channel);

   //                          });
                        // img.append("text")
                        //     .text(channel);
                             //});
                            //.attr("id", function(d) { return d.channelID;});
    						//attr("transform", (d, i) => "translate(" + i + 50 + ", 10)");

            // var selected = d.channelID;

            // var image = d3.select("#" + selected);
            // if(image.id == "A") {
            //     image.attr("transform", (d,i) => "translate(" + i + 50 + ", 10)");
            // };
            // if(image.id == "B"){
            //     image.attr("transform", (d,i) => "translate(" + i + 50 + ", 110)");
            // };


			// groups.selectAll("img")
  	// 				.data(data)
  	// 				.enter()
  					// .append("svg:image")
    			// 	.attr("xlink:href", function(d) {
       //                  console.log(d3.select(this.parentNode).datum().ChannelID);
       //  				return d3.select(this.parentNode).datum().Image
    			// 	})
    			// 	.attr("x", "10")
    			// 	.attr("y", "10")
                    // .attr("transform", function(d,i) {
                    //             console.log("here");
                    //             if(d.id == "A") {
                    //                 console.log("A");
                    //                 return "translate(" + i + 50 + ", 10)";
                    //             }
                    //             if(d.id == "B") {
                    //                 console.log("B");
                    //                 return "translate(" + i + 50 + ", 100)";
                    //             }
                    //         })
    				// .attr("width", "100")
        //         	.attr("height", "100")

        //             .on("click", function(d) {
        //                 var channel = d3.select(this.parentNode).datum().ChannelID;
        //                 console.log(channel);
                        // img.append("text")
                        //     .text(channel);
                    //});

// Add buttons
//            var button = d3.button()
//                             .on('press', function(d, i) { console.log("Pressed", d, i, this.parentNode)})
//                             .on('release', function(d, i) { console.log("Released", d, i, this.parentNode)});

// // Add buttons
//             var buttons = svg.selectAll('.button')
//                                 .data(data)
//                                 .enter()
//                                 .append('g')
//                                 .attr('class', 'button')
//                                 .call(button);
    
    	//});


		</script>
	</body>
</html>
